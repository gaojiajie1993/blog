<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/uploads/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/uploads/favicon.ico">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.3.0/css/all.min.css" integrity="sha256-/4UQcSmErDzPCMAiuOiWPVVsNN2s3ZY/NsmXNcj0IFc=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"gaojiajie1993.github.io","root":"/blog/","images":"/blog/images","scheme":"Pisces","darkmode":true,"version":"8.15.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":true,"nav":null,"activeClass":"gitalk"},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/blog/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/blog/js/config.js"></script>

    <meta name="description" content="TS内置类型与拓展TypeScript具有类型系统，且是JavaScript的超集，其可以编译成普通的JavaScript代码，也就是说，其是带有类型检查的JavaScript。 内置类型TypeScript提供了几种实用程序类型来促进常见的类型转换，这些类型在全局范围内可用。 PartialPartial&lt;Type&gt;构造一个类型使Type的所有属性都设置为可选。">
<meta property="og:type" content="article">
<meta property="og:title" content="TS内置类型与拓展">
<meta property="og:url" content="https://gaojiajie1993.github.io/blog/2023/02/11/%E5%89%8D%E7%AB%AF/2023/TS%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E6%8B%93%E5%B1%95/index.html">
<meta property="og:site_name" content="JiaJie Gao Blog">
<meta property="og:description" content="TS内置类型与拓展TypeScript具有类型系统，且是JavaScript的超集，其可以编译成普通的JavaScript代码，也就是说，其是带有类型检查的JavaScript。 内置类型TypeScript提供了几种实用程序类型来促进常见的类型转换，这些类型在全局范围内可用。 PartialPartial&lt;Type&gt;构造一个类型使Type的所有属性都设置为可选。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-02-11T04:11:24.000Z">
<meta property="article:modified_time" content="2023-03-04T08:08:10.219Z">
<meta property="article:author" content="JiaJie Gao">
<meta property="article:tag" content="TypeScript">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://gaojiajie1993.github.io/blog/2023/02/11/%E5%89%8D%E7%AB%AF/2023/TS%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E6%8B%93%E5%B1%95/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":"","permalink":"https://gaojiajie1993.github.io/blog/2023/02/11/%E5%89%8D%E7%AB%AF/2023/TS%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E6%8B%93%E5%B1%95/","path":"2023/02/11/前端/2023/TS内置类型与拓展/","title":"TS内置类型与拓展"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>TS内置类型与拓展 | JiaJie Gao Blog</title>
  








  <noscript>
    <link rel="stylesheet" href="/blog/css/noscript.css">
  </noscript>
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">JiaJie Gao Blog</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">沿途的风景是多么美好</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/blog/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">24</span></a></li><li class="menu-item menu-item-categories"><a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">9</span></a></li><li class="menu-item menu-item-archives"><a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">151</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#TS%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E6%8B%93%E5%B1%95"><span class="nav-number">1.</span> <span class="nav-text">TS内置类型与拓展</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.1.</span> <span class="nav-text">内置类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Partial"><span class="nav-number">1.1.1.</span> <span class="nav-text">Partial</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Required"><span class="nav-number">1.1.2.</span> <span class="nav-text">Required</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Readonly"><span class="nav-number">1.1.3.</span> <span class="nav-text">Readonly</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Record"><span class="nav-number">1.1.4.</span> <span class="nav-text">Record</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Pick"><span class="nav-number">1.1.5.</span> <span class="nav-text">Pick</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Omit"><span class="nav-number">1.1.6.</span> <span class="nav-text">Omit</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Exclude"><span class="nav-number">1.1.7.</span> <span class="nav-text">Exclude</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Extract"><span class="nav-number">1.1.8.</span> <span class="nav-text">Extract</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NonNullable"><span class="nav-number">1.1.9.</span> <span class="nav-text">NonNullable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Parameters"><span class="nav-number">1.1.10.</span> <span class="nav-text">Parameters</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ConstructorParameters"><span class="nav-number">1.1.11.</span> <span class="nav-text">ConstructorParameters</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ReturnType"><span class="nav-number">1.1.12.</span> <span class="nav-text">ReturnType</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#InstanceType"><span class="nav-number">1.1.13.</span> <span class="nav-text">InstanceType</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ThisParameterType"><span class="nav-number">1.1.14.</span> <span class="nav-text">ThisParameterType</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OmitThisParameter"><span class="nav-number">1.1.15.</span> <span class="nav-text">OmitThisParameter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ThisType"><span class="nav-number">1.1.16.</span> <span class="nav-text">ThisType</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Uppercase"><span class="nav-number">1.1.17.</span> <span class="nav-text">Uppercase</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Lowercase"><span class="nav-number">1.1.18.</span> <span class="nav-text">Lowercase</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Capitalize"><span class="nav-number">1.1.19.</span> <span class="nav-text">Capitalize</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Uncapitalize"><span class="nav-number">1.1.20.</span> <span class="nav-text">Uncapitalize</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8B%93%E5%B1%95"><span class="nav-number">1.2.</span> <span class="nav-text">拓展</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B"><span class="nav-number">1.2.1.</span> <span class="nav-text">泛型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%AD%E8%A8%80"><span class="nav-number">1.2.2.</span> <span class="nav-text">断言</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#infer"><span class="nav-number">1.2.3.</span> <span class="nav-text">infer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD"><span class="nav-number">1.2.4.</span> <span class="nav-text">函数重载</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6"><span class="nav-number">1.2.5.</span> <span class="nav-text">声明文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%8F%E5%8F%98%E4%B8%8E%E9%80%86%E5%8F%98"><span class="nav-number">1.2.6.</span> <span class="nav-text">协变与逆变</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tsconfig-json"><span class="nav-number">1.2.7.</span> <span class="nav-text">tsconfig.json</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="JiaJie Gao"
      src="/blog/uploads/avatar.gif">
  <p class="site-author-name" itemprop="name">JiaJie Gao</p>
  <div class="site-description" itemprop="description">个人博客</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/blog/archives/">
          <span class="site-state-item-count">151</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/blog/categories/">
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/blog/tags/">
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/gaojiajie1993" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;gaojiajie1993" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:gaojiajie1993@163.com" title="E-Mail → mailto:gaojiajie1993@163.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://gaojiajie1993.github.io/blog/2023/02/11/%E5%89%8D%E7%AB%AF/2023/TS%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E6%8B%93%E5%B1%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/avatar.gif">
      <meta itemprop="name" content="JiaJie Gao">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JiaJie Gao Blog">
      <meta itemprop="description" content="个人博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="TS内置类型与拓展 | JiaJie Gao Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          TS内置类型与拓展<a href="https://github.com/gaojiajie1993/blog/blob/master/source/_posts/%E5%89%8D%E7%AB%AF/2023/TS%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E6%8B%93%E5%B1%95.md" class="post-edit-link" title="编辑" rel="noopener" target="_blank"><i class="fa fa-pen-nib"></i></a>
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-02-11 12:11:24" itemprop="dateCreated datePublished" datetime="2023-02-11T12:11:24+08:00">2023-02-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-03-04 16:08:10" itemprop="dateModified" datetime="2023-03-04T16:08:10+08:00">2023-03-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>24k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>22 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="TS内置类型与拓展"><a href="#TS内置类型与拓展" class="headerlink" title="TS内置类型与拓展"></a>TS内置类型与拓展</h1><p><code>TypeScript</code>具有类型系统，且是<code>JavaScript</code>的超集，其可以编译成普通的<code>JavaScript</code>代码，也就是说，其是带有类型检查的<code>JavaScript</code>。</p>
<h2 id="内置类型"><a href="#内置类型" class="headerlink" title="内置类型"></a>内置类型</h2><p><code>TypeScript</code>提供了几种实用程序类型来促进常见的类型转换，这些类型在全局范围内可用。</p>
<h3 id="Partial"><a href="#Partial" class="headerlink" title="Partial"></a>Partial</h3><p><code>Partial&lt;Type&gt;</code>构造一个类型使<code>Type</code>的所有属性都设置为可选。</p>
<span id="more"></span>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * <span class="type">Make</span> all properties <span class="keyword">in</span> <span class="type">T</span> optional</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="type">Partial</span>&lt;<span class="type">T</span>&gt; = &#123;</span><br><span class="line">    [<span class="type">P</span> in keyof <span class="type">T</span>]?: <span class="type">T</span>[<span class="type">P</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">interface Example &#123;</span><br><span class="line"><span class="code">    a: string;</span></span><br><span class="line"><span class="code">    b: number;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line">type PartialExample = Partial<span class="language-xml"><span class="tag">&lt;<span class="name">Example</span>&gt;</span></span>;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"><span class="bullet"> *</span> PartialExample</span><br><span class="line"><span class="bullet"> *</span> interface &#123;</span><br><span class="line"><span class="bullet"> *</span>     a?: string | undefined;</span><br><span class="line"><span class="bullet"> *</span>     b?: number | undefined;</span><br><span class="line"><span class="bullet"> *</span> &#125;</span><br><span class="line"> <span class="emphasis">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="Required"><a href="#Required" class="headerlink" title="Required"></a>Required</h3><p><code>Required&lt;Type&gt;</code>构造一个类型使<code>Type</code>的所有属性都设置为<code>required</code>，与<code>Partial&lt;Type&gt;</code>功能相反。</p>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * <span class="type">Make</span> all properties <span class="keyword">in</span> <span class="type">T</span> required</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="type">Required</span>&lt;<span class="type">T</span>&gt; = &#123;</span><br><span class="line">    [<span class="type">P</span> in keyof <span class="type">T</span>]-?: <span class="type">T</span>[<span class="type">P</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">interface Example &#123;</span><br><span class="line"><span class="code">    a?: string;</span></span><br><span class="line"><span class="code">    b?: number;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line">type RequiredExample = Required<span class="language-xml"><span class="tag">&lt;<span class="name">Example</span>&gt;</span></span>;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"><span class="bullet"> *</span> RequiredExample</span><br><span class="line"><span class="bullet"> *</span> interface &#123;</span><br><span class="line"><span class="bullet"> *</span>     a: string;</span><br><span class="line"><span class="bullet"> *</span>     b: number;</span><br><span class="line"><span class="bullet"> *</span> &#125;</span><br><span class="line"> <span class="emphasis">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="Readonly"><a href="#Readonly" class="headerlink" title="Readonly"></a>Readonly</h3><p><code>Required&lt;Type&gt;</code>构造一个类型使<code>Type</code>的所有属性都设置为<code>readonly</code>，这意味着构造类型的属性都是只读的，不能被修改，这对使用<code>Object.freeze()</code>方法的对象非常有用。</p>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * <span class="type">Make</span> all properties <span class="keyword">in</span> <span class="type">T</span> readonly</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="type">Readonly</span>&lt;<span class="type">T</span>&gt; = &#123;</span><br><span class="line">    readonly [<span class="type">P</span> in keyof <span class="type">T</span>]: <span class="type">T</span>[<span class="type">P</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">interface Example &#123;</span><br><span class="line"><span class="code">    a: string;</span></span><br><span class="line"><span class="code">    b: number;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line">type ReadonlyExample = Readonly<span class="language-xml"><span class="tag">&lt;<span class="name">Example</span>&gt;</span></span>;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"><span class="bullet"> *</span> ReadonlyExample</span><br><span class="line"><span class="bullet"> *</span> interface &#123;</span><br><span class="line"><span class="bullet"> *</span>     readonly a: string;</span><br><span class="line"><span class="bullet"> *</span>     readonly b: number;</span><br><span class="line"><span class="bullet"> *</span> &#125;</span><br><span class="line"> <span class="emphasis">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="Record"><a href="#Record" class="headerlink" title="Record"></a>Record</h3><p><code>Record&lt;Keys, Type&gt;</code>构造一个对象类型，其属性键为<code>Keys</code>，其属性值为<code>Type</code>，通常可以使用<code>Record</code>来表示一个对象。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Construct a type with a set of properties K of type T</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Record&lt;K</span> <span class="keyword">extends</span> <span class="title">keyof</span> <span class="title">any</span>, <span class="title">T&gt;</span> </span>= &#123;</span><br><span class="line">    [<span class="type">P</span> in <span class="type">K</span>]: <span class="type">T</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">RecordType</span> = <span class="title class_">Record</span>&lt;<span class="built_in">string</span>, <span class="built_in">string</span>|<span class="built_in">number</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">recordExample</span>: <span class="title class_">RecordType</span> =&#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">b</span>: <span class="string">&quot;1&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Pick"><a href="#Pick" class="headerlink" title="Pick"></a>Pick</h3><p><code>Pick&lt;Type, Keys&gt;</code>通过从<code>Type</code>中选择一组属性<code>Keys</code>来构造一个类型。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * From T, pick a set of properties whose keys are in the union K</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Pick&lt;T</span>, <span class="title">K</span> <span class="keyword">extends</span> <span class="title">keyof</span> <span class="title">T&gt;</span> </span>= &#123;</span><br><span class="line">    [<span class="type">P</span> in <span class="type">K</span>]: <span class="type">T</span>[<span class="type">P</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Example &#123;</span><br><span class="line">    a<span class="operator">:</span> <span class="type">string</span>;</span><br><span class="line">    b<span class="operator">:</span> number;</span><br><span class="line">    c<span class="operator">:</span> symbol;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">PickExample</span> <span class="operator">=</span> Pick<span class="operator">&lt;</span>Example, <span class="string">&quot;a&quot;</span><span class="operator">|</span><span class="string">&quot;b&quot;</span><span class="operator">&gt;</span>;</span><br><span class="line"></span><br><span class="line"><span class="operator">/**</span></span><br><span class="line"> <span class="operator">*</span> PickExample</span><br><span class="line"> <span class="operator">*</span> <span class="keyword">interface</span> &#123;</span><br><span class="line"> <span class="operator">*</span>     a<span class="operator">:</span> <span class="type">string</span>;</span><br><span class="line"> <span class="operator">*</span>     b<span class="operator">:</span> number;</span><br><span class="line"> <span class="operator">*</span> &#125;</span><br><span class="line"> <span class="operator">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="Omit"><a href="#Omit" class="headerlink" title="Omit"></a>Omit</h3><p><code>Omit&lt;Type, Keys&gt;</code>通过从<code>Type</code>中选择所有属性然后删除<code>Keys</code>来构造一个类型，与<code>Pick&lt;Type, Keys&gt;</code>功能相反。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Construct a type with the properties of T except for those in type K.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Omit&lt;T</span>, <span class="title">K</span> <span class="keyword">extends</span> <span class="title">keyof</span> <span class="title">any&gt;</span> </span>= <span class="type">Pick</span>&lt;<span class="type">T</span>, <span class="type">Exclude</span>&lt;keyof <span class="type">T</span>, <span class="type">K</span>&gt;&gt;;</span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Example</span> &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">b</span>: <span class="built_in">number</span>;</span><br><span class="line">    <span class="attr">c</span>: <span class="built_in">symbol</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">OmitExample</span> = <span class="title class_">Omit</span>&lt;<span class="title class_">Example</span>, <span class="string">&quot;a&quot;</span>|<span class="string">&quot;b&quot;</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * OmitExample</span></span><br><span class="line"><span class="comment"> * interface &#123;</span></span><br><span class="line"><span class="comment"> *     c: symbol;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="Exclude"><a href="#Exclude" class="headerlink" title="Exclude"></a>Exclude</h3><p><code>Exclude&lt;UnionType, ExcludedMembers&gt;</code>通过从<code>UnionType</code>中排除可分配给<code>ExcludedMembers</code>的所有联合成员来构造类型。</p>
<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Exclude from <span class="built_in">T</span> those types that are assignable to U</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line"><span class="built_in">type</span> Exclude&lt;<span class="built_in">T</span>, U&gt; = <span class="built_in">T</span> extends U ? never <span class="symbol">:</span> <span class="built_in">T</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">type ExcludeExample = Exclude&lt;<span class="string">&quot;a&quot;</span><span class="string">|&quot;</span>b<span class="string">&quot;|&quot;</span>c<span class="string">&quot;|&quot;</span>z<span class="string">&quot;, &quot;</span>a<span class="string">&quot;|&quot;</span>b<span class="string">&quot;|&quot;</span>d<span class="string">&quot;&gt;;</span></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * ExcludeExample</span><br><span class="line"> * <span class="string">&quot;c&quot;</span> <span class="string">| &quot;</span>z<span class="string">&quot;</span></span><br><span class="line"> */</span><br></pre></td></tr></table></figure>

<h3 id="Extract"><a href="#Extract" class="headerlink" title="Extract"></a>Extract</h3><p><code>Extract&lt;Type, Union&gt;</code>通过从<code>Type</code>中提取所有可分配给<code>Union</code>的联合成员来构造一个类型，与<code>Exclude&lt;UnionType, ExcludedMembers&gt;</code>功能相反。</p>
<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Extract from <span class="built_in">T</span> those types that are assignable to U</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line"><span class="built_in">type</span> Extract&lt;<span class="built_in">T</span>, U&gt; = <span class="built_in">T</span> extends U ? <span class="built_in">T</span> <span class="symbol">:</span> never;</span><br></pre></td></tr></table></figure>

<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">type ExtractExample = Extract&lt;<span class="string">&quot;a&quot;</span><span class="string">|&quot;</span>b<span class="string">&quot;|&quot;</span>c<span class="string">&quot;|&quot;</span>z<span class="string">&quot;, &quot;</span>a<span class="string">&quot;|&quot;</span>b<span class="string">&quot;|&quot;</span>d<span class="string">&quot;&gt;;</span></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * ExtractExample</span><br><span class="line"> * <span class="string">&quot;a&quot;</span> <span class="string">| &quot;</span>b<span class="string">&quot;</span></span><br><span class="line"> */</span><br></pre></td></tr></table></figure>

<h3 id="NonNullable"><a href="#NonNullable" class="headerlink" title="NonNullable"></a>NonNullable</h3><p><code>NonNullable&lt;Type&gt;</code>通过从<code>Type</code>中排除<code>null</code>和<code>undefined</code>来构造一个类型。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Exclude null and undefined from T</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">NonNullable</span>&lt;T&gt; = T <span class="keyword">extends</span> <span class="literal">null</span> | <span class="literal">undefined</span> ? <span class="built_in">never</span> : T;</span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">NonNullableExample</span> = <span class="title class_">NonNullable</span>&lt;<span class="built_in">number</span>|<span class="built_in">string</span>|<span class="literal">null</span>|<span class="literal">undefined</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * NonNullableExample</span></span><br><span class="line"><span class="comment"> * string | number</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="Parameters"><a href="#Parameters" class="headerlink" title="Parameters"></a>Parameters</h3><p><code>Parameters&lt;Type&gt;</code>从函数类型<code>Type</code>的参数中使用的类型构造元组类型。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Obtain the parameters of a function type in a tuple</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Parameters&lt;T</span> <span class="keyword">extends</span> (<span class="params">...args: any</span>) <span class="title">=&gt;</span> <span class="title">any&gt;</span> </span>= <span class="type">T</span> <span class="keyword">extends</span> (...args: infer <span class="type">P</span>) =&gt; any ? <span class="type">P</span> : never;</span><br></pre></td></tr></table></figure>

<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> FnType =<span class="function"> (<span class="params">a1</span>: <span class="params">number</span>, <span class="params">a2</span>: <span class="params">string</span>) =&gt;</span> void;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> ParametersExample = Parameters&lt;FnType&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ParametersExample</span></span><br><span class="line"><span class="comment"> * [a1: number, a2: string]</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="ConstructorParameters"><a href="#ConstructorParameters" class="headerlink" title="ConstructorParameters"></a>ConstructorParameters</h3><p><code>ConstructorParameters&lt;Type&gt;</code>从构造函数类型的类型构造元组或数组类型，其产生一个包含所有参数类型的元组类型。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Obtain the parameters of a constructor function type in a tuple</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">ConstructorParameters&lt;T</span> <span class="keyword">extends</span> <span class="title">abstract</span> <span class="title">new</span> (<span class="params">...args: any</span>) <span class="title">=&gt;</span> <span class="title">any&gt;</span> </span>= <span class="type">T</span> <span class="keyword">extends</span> <span class="keyword">abstract</span> <span class="keyword">new</span> (...args: infer <span class="type">P</span>) =&gt; any ? <span class="type">P</span> : never;</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Example</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">fn</span>(<span class="params">a: <span class="keyword">string</span></span>): <span class="title">string</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">ExampleConstructor</span></span>&#123;</span><br><span class="line">    <span class="keyword">new</span>(a: <span class="keyword">string</span>, b: number): Example;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">const</span> <span class="variable constant_">Example</span>: ExampleConstructor;</span><br><span class="line"></span><br><span class="line">type ConstructorParametersExample = ConstructorParameters&lt;ExampleConstructor&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ConstructorParametersExample</span></span><br><span class="line"><span class="comment"> * [a: string, b: number]</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="ReturnType"><a href="#ReturnType" class="headerlink" title="ReturnType"></a>ReturnType</h3><p><code>ReturnType&lt;Type&gt;</code>构造一个由函数<code>Type</code>的返回类型组成的类型。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Obtain the return type of a function type</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">ReturnType&lt;T</span> <span class="keyword">extends</span> (<span class="params">...args: any</span>) <span class="title">=&gt;</span> <span class="title">any&gt;</span> </span>= <span class="type">T</span> <span class="keyword">extends</span> (...args: any) =&gt; infer <span class="type">R</span> ? <span class="type">R</span> : any;</span><br></pre></td></tr></table></figure>

<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> FnType = (a1: <span class="keyword">number</span>, a2: <span class="keyword">string</span>) =&gt; <span class="keyword">string</span> | <span class="keyword">number</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> ReturnTypeExample = ReturnType<span class="tag">&lt;FnType&gt;</span>;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * ReturnTypeExample</span><br><span class="line"> * <span class="keyword">string</span> | <span class="keyword">number</span></span><br><span class="line"> */</span><br></pre></td></tr></table></figure>

<h3 id="InstanceType"><a href="#InstanceType" class="headerlink" title="InstanceType"></a>InstanceType</h3><p><code>InstanceType&lt;Type&gt;</code>构造一个由<code>Type</code>中构造函数的实例类型组成的类型。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Obtain the return type of a constructor function type</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">InstanceType&lt;T</span> <span class="keyword">extends</span> <span class="title">abstract</span> <span class="title">new</span> (<span class="params">...args: any</span>) <span class="title">=&gt;</span> <span class="title">any&gt;</span> </span>= <span class="type">T</span> <span class="keyword">extends</span> <span class="keyword">abstract</span> <span class="keyword">new</span> (...args: any) =&gt; infer <span class="type">R</span> ? <span class="type">R</span> : any;</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Example</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">fn</span>(<span class="params">a: <span class="keyword">string</span></span>): <span class="title">string</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">ExampleConstructor</span></span>&#123;</span><br><span class="line">    <span class="keyword">new</span>(a: <span class="keyword">string</span>, b: number): Example;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">const</span> <span class="variable constant_">Example</span>: ExampleConstructor;</span><br><span class="line"></span><br><span class="line">type InstanceTypeExample = InstanceType&lt;ExampleConstructor&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// const a: InstanceTypeExample = new Example(&quot;a&quot;, 1); // new ExampleConstructor =&gt; Example</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * InstanceTypeExample</span></span><br><span class="line"><span class="comment"> * Example</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="ThisParameterType"><a href="#ThisParameterType" class="headerlink" title="ThisParameterType"></a>ThisParameterType</h3><p><code>ThisParameterType&lt;Type&gt;</code>提取函数类型的<code>this</code>参数的类型，如果函数类型没有<code>this</code>参数，则为<code>unknown</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Extracts the <span class="built_in">type</span> of the <span class="string">&#x27;this&#x27;</span> parameter of a <span class="keyword">function</span> <span class="built_in">type</span>, or <span class="string">&#x27;unknown&#x27;</span> <span class="keyword">if</span> the <span class="keyword">function</span> <span class="built_in">type</span> has no <span class="string">&#x27;this&#x27;</span> parameter.</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line"><span class="built_in">type</span> ThisParameterType&lt;T&gt; = T extends (this: infer U, ...args: any[]) =&gt; any ? U : unknown;</span><br></pre></td></tr></table></figure>

<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">toHex</span>(<span class="params">this: Number</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> this.toString(<span class="number">16</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type ThisParameterTypeExample = ThisParameterType&lt;<span class="built_in">typeof</span> <span class="built_in">toHex</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.<span class="built_in">log</span>(<span class="built_in">toHex</span>.apply(<span class="number">27</span>)); <span class="comment">// 1b</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ThisParameterTypeExample</span></span><br><span class="line"><span class="comment"> * Number</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="OmitThisParameter"><a href="#OmitThisParameter" class="headerlink" title="OmitThisParameter"></a>OmitThisParameter</h3><p><code>OmitThisParameter&lt;Type&gt;</code>从<code>Type</code>中移除<code>this</code>参数，如果<code>Type</code>没有显式声明此参数，则结果只是<code>Type</code>，否则，从<code>Type</code>创建一个不带此参数的新函数类型。泛型被删除，只有最后一个重载签名被传播到新的函数类型中。</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * <span class="type">Removes</span> the &#x27;this&#x27; parameter from a function <span class="class"><span class="keyword">type</span>.</span></span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="type">OmitThisParameter</span>&lt;<span class="type">T</span>&gt; = unknown extends <span class="type">ThisParameterType</span>&lt;<span class="type">T</span>&gt; ? <span class="type">T</span> : <span class="type">T</span> extends (...<span class="title">args</span>: <span class="title">infer</span> <span class="type">A</span>) =&gt; infer <span class="type">R</span> ? (...<span class="title">args</span>: <span class="type">A</span>) =&gt; <span class="type">R</span> : <span class="type">T</span>;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="keyword">to</span><span class="constructor">Hex(<span class="params">this</span>: Number)</span> &#123;</span><br><span class="line">  return this.<span class="keyword">to</span><span class="constructor">String(16)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> OmitThisParameterExample = OmitThisParameter&lt;typeof toHex&gt;;</span><br><span class="line"></span><br><span class="line">const toHex27: OmitThisParameterExample = toHex.bind(<span class="number">27</span>);</span><br><span class="line">console.log(<span class="keyword">to</span><span class="constructor">Hex27()</span>); <span class="comment">// 1b</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * OmitThisParameterExample</span></span><br><span class="line"><span class="comment"> * () =&gt; string</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="ThisType"><a href="#ThisType" class="headerlink" title="ThisType"></a>ThisType</h3><p><code>ThisType&lt;Type&gt;</code>可以在对象字面量中键入<code>this</code>，并提供通过上下文类型控制<code>this</code>类型的便捷方式，其只有在<code>--noImplicitThis</code>的选项下才有效。</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Marker for contextual &#x27;this&#x27; type</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">interface</span> <span class="symbol">ThisType</span>&lt;<span class="symbol">T</span>&gt; &#123; &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">//</span> const foo1 = &#123;</span><br><span class="line"><span class="regexp">//</span>     bar() &#123;</span><br><span class="line"><span class="regexp">//</span>          console.log(this.a); <span class="regexp">//</span> error</span><br><span class="line"><span class="regexp">//</span>     &#125;</span><br><span class="line"><span class="regexp">//</span> &#125;</span><br><span class="line"></span><br><span class="line">const foo2: &#123; bar: () =&gt; void &#125; &amp; ThisType&lt;&#123; a: number &#125;&gt; = &#123;</span><br><span class="line">    bar() &#123;</span><br><span class="line">         console.log(this.a); <span class="regexp">//</span> ok</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Uppercase"><a href="#Uppercase" class="headerlink" title="Uppercase"></a>Uppercase</h3><p><code>Uppercase&lt;StringType&gt;</code>将<code>StringType</code>转为大写，<code>TS</code>以内置关键字<code>intrinsic</code>来通过编译期来实现。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Convert string literal type to uppercase</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Uppercase&lt;S</span> <span class="keyword">extends</span> <span class="title">string&gt;</span> </span>= intrinsic;</span><br></pre></td></tr></table></figure>

<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">type UppercaseExample <span class="operator">=</span> Uppercase&lt;<span class="string">&quot;abc&quot;</span>&gt;<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * UppercaseExample</span><br><span class="line"> * ABC</span><br><span class="line"> */</span><br></pre></td></tr></table></figure>

<h3 id="Lowercase"><a href="#Lowercase" class="headerlink" title="Lowercase"></a>Lowercase</h3><p><code>Lowercase&lt;StringType&gt;</code>将<code>StringType</code>转为小写。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Convert string literal type to lowercase</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Lowercase&lt;S</span> <span class="keyword">extends</span> <span class="title">string&gt;</span> </span>= intrinsic;</span><br></pre></td></tr></table></figure>

<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">type LowercaseExample <span class="operator">=</span> Lowercase&lt;<span class="string">&quot;ABC&quot;</span>&gt;<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * LowercaseExample</span><br><span class="line"> * abc</span><br><span class="line"> */</span><br></pre></td></tr></table></figure>

<h3 id="Capitalize"><a href="#Capitalize" class="headerlink" title="Capitalize"></a>Capitalize</h3><p><code>Capitalize&lt;StringType&gt;</code>将<code>StringType</code>首字母转为大写。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Convert first character of string literal type to uppercase</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Capitalize&lt;S</span> <span class="keyword">extends</span> <span class="title">string&gt;</span> </span>= intrinsic;</span><br></pre></td></tr></table></figure>

<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">type CapitalizeExample <span class="operator">=</span> Capitalize&lt;<span class="string">&quot;abc&quot;</span>&gt;<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * CapitalizeExample</span><br><span class="line"> * Abc</span><br><span class="line"> */</span><br></pre></td></tr></table></figure>

<h3 id="Uncapitalize"><a href="#Uncapitalize" class="headerlink" title="Uncapitalize"></a>Uncapitalize</h3><p><code>Uncapitalize&lt;StringType&gt;</code>将<code>StringType</code>首字母转为小写。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Convert first character of string literal type to lowercase</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Uncapitalize&lt;S</span> <span class="keyword">extends</span> <span class="title">string&gt;</span> </span>= intrinsic;</span><br></pre></td></tr></table></figure>

<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">type UncapitalizeExample <span class="operator">=</span> Uncapitalize&lt;<span class="string">&quot;ABC&quot;</span>&gt;<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * CapitalizeExample</span><br><span class="line"> * aBC</span><br><span class="line"> */</span><br></pre></td></tr></table></figure>

<h2 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h2><p><code>TypeScript</code>中常用的一些语法以及概念。</p>
<h3 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h3><p>泛型<code>Generics</code>是指在定义函数、接口或类的时候，不预先指定具体的类型，而在使用的时候再指定类型的一种特性。举一个简单的例子，如果需要实现一个生成数组的函数，这个数组会填充默认值，这个数组填充的类型不需要事先指定，而可以在使用的时候指定。当然在这里使用<code>new Array</code>组合<code>fill</code>函数是一个效果。</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> createArray<span class="operator">&lt;</span><span class="built_in">T</span><span class="operator">&gt;</span><span class="punctuation">(</span>value<span class="operator">:</span> <span class="built_in">T</span><span class="punctuation">,</span> <span class="built_in">length</span><span class="operator">:</span> number<span class="punctuation">)</span><span class="operator">:</span> <span class="built_in">T</span><span class="punctuation">[</span><span class="punctuation">]</span> <span class="punctuation">&#123;</span></span><br><span class="line">  const result<span class="operator">:</span> <span class="built_in">T</span><span class="punctuation">[</span><span class="punctuation">]</span> <span class="operator">=</span> <span class="punctuation">[</span><span class="punctuation">]</span>;</span><br><span class="line">    <span class="keyword">for</span> <span class="punctuation">(</span>let i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> <span class="built_in">length</span>; i<span class="operator">+</span><span class="operator">+</span><span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line">        result<span class="punctuation">[</span>i<span class="punctuation">]</span> <span class="operator">=</span> value;</span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="built_in">return</span> result;</span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">console.log<span class="punctuation">(</span>createArray<span class="operator">&lt;</span>number<span class="operator">&gt;</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">)</span><span class="punctuation">)</span>; <span class="operator">/</span><span class="operator">/</span> 不显式地指定`number`也可以自动推断</span><br></pre></td></tr></table></figure>

<p>我们也可以约束<code>T</code>的类型只能为<code>number</code>与<code>string</code>。</p>
<figure class="highlight nim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> createArray = &lt;T extends number|<span class="type">string</span>&gt;(value: T, length: number): T[] =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="built_in">result</span>: T[] = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">        <span class="built_in">result</span>[i] = value;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">result</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(createArray&lt;number&gt;(<span class="number">1</span>, <span class="number">3</span>));</span><br><span class="line">// console.log(createArray(<span class="literal">true</span>, <span class="number">3</span>)); // <span class="type">Argument</span> <span class="keyword">of</span> <span class="keyword">type</span> &#x27;boolean&#x27; <span class="keyword">is</span> <span class="keyword">not</span> assignable to parameter <span class="keyword">of</span> <span class="keyword">type</span> &#x27;<span class="type">string</span> | number&#x27;.(<span class="number">2345</span>)</span><br></pre></td></tr></table></figure>

<p>多个类型也可以相互约束，例如上边的<code>Pick</code>，在这里的<code>K</code>必须是<code>T</code>中<code>key</code>的子集。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Pick&lt;T</span>, <span class="title">K</span> <span class="keyword">extends</span> <span class="title">keyof</span> <span class="title">T&gt;</span> </span>= &#123;</span><br><span class="line">    [<span class="type">P</span> in <span class="type">K</span>]: <span class="type">T</span>[<span class="type">P</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>在传递泛型的时候可以为<code>T</code>指定默认值，使用范型编写<code>class</code>即泛型类也是完全支持的。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Example</span>&lt;T = <span class="built_in">number</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="attr">value</span>: T;</span><br><span class="line">    <span class="keyword">public</span> <span class="attr">add</span>: <span class="function">(<span class="params">x: T, y: T</span>) =&gt;</span> T;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">value: T, add: (x: T, y: T) =&gt; T</span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">value</span> = value;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">add</span> = add;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> example = <span class="keyword">new</span> <span class="title class_">Example</span>&lt;<span class="built_in">number</span>&gt;(<span class="number">1</span>, <span class="function">(<span class="params">x, y</span>) =&gt;</span> x + y);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(example.<span class="property">value</span>); <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(example.<span class="title function_">add</span>(<span class="number">1</span>, <span class="number">2</span>)); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<h3 id="断言"><a href="#断言" class="headerlink" title="断言"></a>断言</h3><p>类型断言<code>Type Assertion</code>可以用来手动指定一个值的类型，由于<code>&lt;Type&gt;value</code>的语法容易与<code>TSX</code>冲突，所以通常都是使用<code>value as Type</code>的语法。通常当<code>TypeScript</code>不确定一个联合类型的变量到底是哪个类型的时候，我们只能访问此联合类型的所有类型中共有的属性或方法。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Cat</span> </span>&#123;</span><br><span class="line">    name: <span class="keyword">string</span>;</span><br><span class="line">    <span class="title function_ invoke__">run</span>(): <span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Fish</span> </span>&#123;</span><br><span class="line">    name: <span class="keyword">string</span>;</span><br><span class="line">    <span class="title function_ invoke__">swim</span>(): <span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params">animal: Cat | Fish</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> animal.name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>而有时候，我们确实需要在还不确定类型的时候就访问其中一个类型特有的属性或方法。</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">interface Cat &#123;</span><br><span class="line">    <span class="type">name</span>: string;</span><br><span class="line">    run(): <span class="type">void</span>;</span><br><span class="line">&#125;</span><br><span class="line">interface Fish &#123;</span><br><span class="line">    <span class="type">name</span>: string;</span><br><span class="line">    swim(): <span class="type">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> isFish(animal: Cat | Fish) &#123;</span><br><span class="line">    <span class="keyword">if</span> (typeof animal.swim === &quot;function&quot;) &#123; // Property <span class="string">&#x27;swim&#x27;</span> does <span class="keyword">not</span> exist <span class="keyword">on</span> <span class="keyword">type</span> <span class="string">&#x27;Cat | Fish&#x27;</span>. Property <span class="string">&#x27;swim&#x27;</span> does <span class="keyword">not</span> exist <span class="keyword">on</span> <span class="keyword">type</span> <span class="string">&#x27;Cat&#x27;</span>.(<span class="number">2339</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面的例子中，获取<code>animal.swim</code>的时候会报错，此时可以使用类型断言，将<code>animal</code>断言成<code>Fish</code>。当然这里只是举一个例子说明断言的使用，因为滥用断言是不提倡的，类型断言只能够欺骗<code>TypeScript</code>编译器，而无法避免运行时的错误，滥用类型断言可能会导致运行时错误。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title">Cat</span> &#123;</span><br><span class="line">    name: <span class="built_in">string</span>;</span><br><span class="line">    run(): <span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title">Fish</span> &#123;</span><br><span class="line">    name: <span class="built_in">string</span>;</span><br><span class="line">    swim(): <span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">function <span class="title">isFish</span>(<span class="params">animal: Cat | Fish</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> (animal <span class="keyword">as</span> Fish).swim === <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>单个断言即<code>value as Type</code>是有一定条件的，当<code>S</code>类型是<code>T</code>类型的子集，或者<code>T</code>类型是<code>S</code>类型的子集时，<code>S</code>能被成功断言成<code>T</code>。这是为了在进行类型断言时提供额外的安全性，完全毫无根据的断言是危险的，如果你想这么做，你可以使用<code>any</code>。<br>如果认为某个值<code>value</code>必定是某种类型<code>Type</code>，而单个断言无法满足要求，可以使用双重断言，即<code>value as unknown as Type</code>，使用<code>value as any as Type</code>也是同样的效果，但是若使用双重断言，则可以打破要使得<code>A</code>能够被断言为<code>B</code>，只需要<code>A</code>兼容<code>B</code>或<code>B</code>兼容<code>A</code>即可的限制，将任何一个类型断言为任何另一个类型。通常来说除非迫不得已，不要使用双重断言。<br>此外类型断言之所以不被称为类型转换，是因为类型转换通常意味着某种运行时的支持，而类型断言只会影响<code>TypeScript</code>编译时的类型，类型断言语句在编译结果中会被删除，也就是说类型断言纯粹是一个编译时语法，同时其也是一种为编译器提供关于如何分析代码的方法。<br>与类型断言相关的还有一个<code>!</code>的表达式，其在<code>TypeScript 2.7</code>被加入，其称为<code>definite assignment assertion</code>显式赋值断言，显式赋值断言允许你在实例属性和变量声明之后加一个感叹号<code>!</code>，来告诉<code>TypeScript</code>这个变量确实已被赋值，即使<code>TypeScript</code>不能分析出这个结果。</p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let x: <span class="built_in">number</span>;</span><br><span class="line">let y!: <span class="built_in">number</span>;</span><br><span class="line"><span class="built_in">console</span>.<span class="built_in">log</span>(x + x); <span class="comment">// Variable &#x27;x&#x27; is used before being assigned.(2454)</span></span><br><span class="line"><span class="built_in">console</span>.<span class="built_in">log</span>(y + y); <span class="comment">// ok</span></span><br></pre></td></tr></table></figure>

<p>既然说到了<code>!</code>，那么也可以说一下<code>?</code>，在<code>interface</code>中<code>?</code>和<code>undefined</code>并不是等效的，在下面的例子中，在<code>b</code>未将<code>?</code>声明的情况下，其在<code>interface</code>下是<code>required</code>，<code>TypeScript</code>认为其是必须指定的<code>key</code>即使其值只能为<code>undefined</code>。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Example</span>&#123;</span><br><span class="line">  a?: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">b</span>: <span class="literal">undefined</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">example1</span>: <span class="title class_">Example</span> = &#123;&#125;; <span class="comment">// Property &#x27;b&#x27; is missing in type &#x27;&#123;&#125;&#x27; but required in type &#x27;Example&#x27;.(2741)</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">example2</span>: <span class="title class_">Example</span> = &#123; <span class="attr">b</span>: <span class="literal">undefined</span> &#125;; <span class="comment">// ok</span></span><br></pre></td></tr></table></figure>

<h3 id="infer"><a href="#infer" class="headerlink" title="infer"></a>infer</h3><p><code>infer</code>示在<code>extends</code>条件语句中待推断的类型变量，也可以认为其是一个占位符，用以在使用时推断。例如上边的<code>ReturnType</code>就是通过<code>infer</code>进行推断的，首先是范型约束了一个函数类型，然后在后边进行<code>infer</code>占位后进行推断。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">ReturnType&lt;T</span> <span class="keyword">extends</span> (<span class="params">...args: any</span>) <span class="title">=&gt;</span> <span class="title">any&gt;</span> </span>= <span class="type">T</span> <span class="keyword">extends</span> (...args: any) =&gt; infer <span class="type">R</span> ? <span class="type">R</span> : any;</span><br></pre></td></tr></table></figure>

<p>有一些应用，<code>tuple</code>转<code>union</code>，如<code>[string, number, symbol] -&gt; string | number | symbol</code>。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ElementOf</span>&lt;T&gt; = T <span class="keyword">extends</span> <span class="title class_">Array</span>&lt;infer E&gt; ? E : <span class="built_in">never</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">TTuple</span> = [<span class="built_in">string</span>, <span class="built_in">number</span>, <span class="built_in">symbol</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ToUnion</span> = <span class="title class_">ElementOf</span>&lt;<span class="title class_">TTuple</span>&gt;; <span class="comment">// string | number | symbol</span></span><br></pre></td></tr></table></figure>

<p>还有一个比较离谱的实现。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">type TTuple = [string, number, symbol];</span><br><span class="line">type Res = TTuple[number]; <span class="regexp">//</span> string | number | symbol</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span> https:<span class="regexp">//</span>stackoverflow.com<span class="regexp">/questions/</span><span class="number">44480644</span><span class="regexp">/string-union-to-string-array/</span><span class="number">45486495</span><span class="comment">#45486495</span></span><br></pre></td></tr></table></figure>

<p>还比如获取函数参数的第一个参数类型。</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> fn =<span class="function"> (<span class="params">a</span>: <span class="params">number</span>, <span class="params">b</span>: <span class="params">string</span>, <span class="params">ddd</span>: <span class="params">boolean</span>) =&gt;</span> void;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> FirstParameter&lt;T&gt; = T extends<span class="function"> (<span class="params">args1</span>: <span class="params">infer</span> R, ...<span class="params">rest</span>: <span class="params">any</span>[]) =&gt;</span> any ? R : never;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> firstArg = FirstParameter&lt;fn&gt;;  <span class="comment">// number</span></span><br></pre></td></tr></table></figure>

<h3 id="函数重载"><a href="#函数重载" class="headerlink" title="函数重载"></a>函数重载</h3><p><code>TypeScript</code>允许声明函数重载，即允许一个函数接受不同数量或类型的参数时，作出不同的处理。当然，最终声明即从函数内部看到的真正声明与所有重载兼容是很重要的。这是因为这是函数体需要考虑的函数调用的真实性质。</p>
<figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span><span class="built_in"> reverse</span>(x:<span class="built_in"> number</span>):<span class="built_in"> number</span>;</span><br><span class="line"><span class="keyword">function</span><span class="built_in"> reverse</span>(x:<span class="built_in"> string</span>):<span class="built_in"> string</span>;</span><br><span class="line"><span class="keyword">function</span><span class="built_in"> reverse</span>(x:<span class="built_in"> number</span> |<span class="built_in"> string</span>):<span class="built_in"> number</span> |<span class="built_in"> string</span> | void &#123;</span><br><span class="line">    <span class="keyword">if</span> (typeof x === <span class="string">&quot;number&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> Number(x.toString().split(<span class="string">&quot;&quot;</span>)<span class="built_in">.reverse</span>().join(<span class="string">&quot;&quot;</span>));</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (typeof x === <span class="string">&quot;string&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> x.split(<span class="string">&quot;&quot;</span>)<span class="built_in">.reverse</span>().join(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>还有一个比较实用的简单例子，在<code>ios</code>上的<code>Date</code>对象是不接受形如<code>2022-04-05 20:00:00</code>的字符串去解析的，当在<code>safari</code>的控制台执行时，会出现一些异常行为。这个字符串的解析在谷歌浏览器或者安卓上就没有问题，所以需要做一下兼容处理。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// safari</span></span><br><span class="line"><span class="keyword">const</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&quot;2022-04-05 20:00:00&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(date.<span class="title function_">getDay</span>()); <span class="comment">// NaN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// chrome</span></span><br><span class="line"><span class="keyword">const</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&quot;2022-04-05 20:00:00&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(date.<span class="title function_">getDay</span>()); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<p>所以需要对时间日期对象做一下简单的兼容，但是做兼容时又需要保证<code>TS</code>的声明，这时就可以使用函数重载等方式处理。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">safeDate</span>(<span class="params"></span>): <span class="title class_">Date</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">safeDate</span>(<span class="params">date: <span class="built_in">Date</span></span>): <span class="title class_">Date</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">safeDate</span>(<span class="params">timestamp: <span class="built_in">number</span></span>): <span class="title class_">Date</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">safeDate</span>(<span class="params">dateTimeStr: <span class="built_in">string</span></span>): <span class="title class_">Date</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">safeDate</span>(<span class="params"></span></span><br><span class="line"><span class="params">    year: <span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">    month: <span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">    date?: <span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">    hours?: <span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">    minutes?: <span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">    seconds?: <span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">    ms?: <span class="built_in">number</span></span></span><br><span class="line"><span class="params"></span>): <span class="title class_">Date</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">safeDate</span>(<span class="params"></span></span><br><span class="line"><span class="params">    p1?: <span class="built_in">Date</span> | <span class="built_in">number</span> | <span class="built_in">string</span>,</span></span><br><span class="line"><span class="params">    p2?: <span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">    p3?: <span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">    p4?: <span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">    p5?: <span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">    p6?: <span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">    p7?: <span class="built_in">number</span></span></span><br><span class="line"><span class="params"></span>): <span class="title class_">Date</span> | <span class="built_in">never</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (p1 === <span class="built_in">void</span> <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// 无参构建</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (p1 <span class="keyword">instanceof</span> <span class="title class_">Date</span> || (<span class="keyword">typeof</span> p1 === <span class="string">&quot;number&quot;</span> &amp;&amp; p2 === <span class="built_in">void</span> <span class="number">0</span>)) &#123;</span><br><span class="line">        <span class="comment">// 第一个参数为`Date`或者`Number`且无第二个参数</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>(p1);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> p1 === <span class="string">&quot;number&quot;</span> &amp;&amp; <span class="keyword">typeof</span> p2 === <span class="string">&quot;number&quot;</span>) &#123;</span><br><span class="line">        <span class="comment">// 第一和第二个参数都为`Number`</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>(p1, p2, p3 || <span class="number">1</span>, p4 || <span class="number">0</span>, p5 || <span class="number">0</span>, p6 || <span class="number">0</span>, p7 || <span class="number">0</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> p1 === <span class="string">&quot;string&quot;</span>) &#123;</span><br><span class="line">        <span class="comment">// 第一个参数为`String`</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>(p1.<span class="title function_">replace</span>(<span class="regexp">/-/g</span>, <span class="string">&quot;/&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;No suitable parameters&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">safeDate</span>(<span class="string">&quot;2022-04-05 20:00:00&quot;</span>).<span class="title function_">getDay</span>()); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">DateParams</span> =</span><br><span class="line">    | []</span><br><span class="line">    | [<span class="built_in">string</span>]</span><br><span class="line">    | [<span class="built_in">number</span>, <span class="built_in">number</span>?, <span class="built_in">number</span>?, <span class="built_in">number</span>?, <span class="built_in">number</span>?, <span class="built_in">number</span>?, <span class="built_in">number</span>?]</span><br><span class="line">    | [<span class="title class_">Date</span>];</span><br><span class="line"><span class="keyword">const</span> safeDate = &lt;T <span class="keyword">extends</span> <span class="title class_">DateParams</span>&gt;(...<span class="attr">args</span>: T): <span class="function"><span class="params">Date</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> copyParams = args.<span class="title function_">slice</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> copyParams[<span class="number">0</span>] === <span class="string">&quot;string&quot;</span>) copyParams[<span class="number">0</span>] = copyParams[<span class="number">0</span>].<span class="title function_">replace</span>(<span class="regexp">/-/g</span>, <span class="string">&quot;/&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>(...(args <span class="keyword">as</span> <span class="title class_">ConstructorParameters</span>&lt;<span class="keyword">typeof</span> <span class="title class_">Date</span>&gt;));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">safeDate</span>(<span class="string">&quot;2022-04-05 20:00:00&quot;</span>).<span class="title function_">getDay</span>()); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>


<h3 id="声明文件"><a href="#声明文件" class="headerlink" title="声明文件"></a>声明文件</h3><p>对于全局变量的声明文件主要有以下几种语法：</p>
<ul>
<li><code>declare var</code>声明全局变量。</li>
<li><code>declare function</code>声明全局方法。</li>
<li><code>declare class</code>声明全局类。</li>
<li><code>declare enum</code>声明全局枚举类型。</li>
<li><code>declare namespace</code>声明含有子属性的全局对象。</li>
<li><code>interface</code>和<code>type</code>声明全局类型。</li>
<li><code>declare module</code>拓展声明。</li>
</ul>
<p>我们可以通过<code>declare</code>关键字来告诉<code>TypeScript</code>，某些变量或者对象已经声明，我们可以选择把这些声明放入<code>.ts</code>或者<code>.d.ts</code>里。<code>declare namespace</code>表示全局变量是一个对象，包含很多子属性。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// global.d.ts</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> <span class="title class_">App</span> &#123;</span><br><span class="line">    <span class="keyword">interface</span> <span class="title class_">Utils</span> &#123;</span><br><span class="line">        <span class="attr">onload</span>: &lt;T <span class="keyword">extends</span> <span class="built_in">unknown</span>[]&gt;<span class="function">(<span class="params">fn: (...args: T) =&gt; <span class="built_in">void</span>, ...args: T</span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">interface</span> <span class="title class_">Window</span>&#123;</span><br><span class="line">  <span class="attr">utils</span>: <span class="title class_">App</span>.<span class="property">Utils</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.ts</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">utils</span> = &#123;</span><br><span class="line">  <span class="attr">onload</span>: <span class="function">() =&gt;</span> <span class="built_in">void</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对于模块的声明文件主要有以下几种语法：</p>
<ul>
<li><code>export</code>导出变量。</li>
<li><code>export namespace</code>导出含有子属性的对象。</li>
<li><code>export default ES6</code>默认导出。</li>
<li><code>export = </code>导出<code>CommonJs</code>模块。</li>
</ul>
<p>模块的声明文件与全局变量的声明文件有很大区别，在模块的声明文件中，使用<code>declare</code>不再会声明一个全局变量，而只会在当前文件中声明一个局部变量，只有在声明文件中使用<code>export</code>导出，然后在使用方<code>import</code>导入后，才会应用到这些类型声明，如果想使用模块的声明文件而并没有实际的<code>export</code>时，通常会显示标记一个空导出<code>export &#123;&#125;</code>。对于模块的声明文件我们更推荐使用 <code>ES6</code>标准的<code>export default</code>和<code>export</code>。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">//</span> xxx.ts</span><br><span class="line">export const name: string = <span class="string">&quot;1&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span> xxxxxx.ts</span><br><span class="line">import &#123; name &#125; from <span class="string">&quot;xxx.ts&quot;</span>;</span><br><span class="line">console.log(name); <span class="regexp">//</span> <span class="number">1</span> <span class="regexp">//</span> typeof name === <span class="string">&quot;string&quot;</span></span><br></pre></td></tr></table></figure>

<p>如果是需要扩展原有模块的话，需要在类型声明文件中先引用原有模块，再使用<code>declare module</code>扩展原有模块。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// xxx.d.ts</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> moment <span class="keyword">from</span> <span class="string">&quot;moment&quot;</span>;</span><br><span class="line"></span><br><span class="line">declare <span class="variable language_">module</span> <span class="string">&quot;moment&quot;</span> &#123;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>): moment.<span class="property">CalendarKey</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// xxx.ts</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> moment <span class="keyword">from</span> <span class="string">&quot;moment&quot;</span>;</span><br><span class="line">moment.<span class="title function_">foo</span>();</span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&quot;vue/types/vue&quot;</span> &#123;</span><br><span class="line">    <span class="keyword">interface</span> <span class="title class_">Vue</span> &#123;</span><br><span class="line">        <span class="attr">copy</span>: <span class="function">(<span class="params">str: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>还有一些诸如<code>.vue</code>文件、<code>.css</code>、<code>.scss</code>文件等，需要在全局中进行声明其<code>import</code>时对象的类型。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&quot;*.vue&quot;</span> &#123;</span><br><span class="line">    <span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue/types/vue&quot;</span>;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Vue</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&quot;*.module.css&quot;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">classes</span>: &#123; <span class="keyword">readonly</span> [<span class="attr">key</span>: <span class="built_in">string</span>]: <span class="built_in">string</span> &#125;;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> classes;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&quot;*.module.scss&quot;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">classes</span>: &#123; <span class="keyword">readonly</span> [<span class="attr">key</span>: <span class="built_in">string</span>]: <span class="built_in">string</span> &#125;;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> classes;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在声明文件中，还可以通过三斜线指令即<code>///</code>来导入另一个声明文件，在全局变量的声明文件中，是不允许出现<code>import</code>、<code>export</code>关键字的，一旦出现了，那么他就会被视为一个模块或<code>UMD</code>库，就不再是全局变量的声明文件了，故当我们在书写一个全局变量的声明文件时，如果需要引用另一个库的类型，那么就必须用三斜线指令了。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">//</span> types<span class="regexp">/jquery-plugin/i</span>ndex.d.ts</span><br><span class="line"><span class="regexp">//</span><span class="regexp">/ &lt;reference types=&quot;jquery&quot; /</span>&gt;</span><br><span class="line">declare <span class="keyword">function</span> foo(options: JQuery.AjaxSettings): string;</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span> src/index.ts</span><br><span class="line">foo(&#123;&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="协变与逆变"><a href="#协变与逆变" class="headerlink" title="协变与逆变"></a>协变与逆变</h3><p>子类型在编程理论上是一个复杂的话题，而他的复杂之处来自于一对经常会被混淆的现象。简单来说，协变即类型收敛，逆变即类型发散。在这里由下面的例子引起关于这个问题的讨论，在这里我们定义了一个父类型以及一个子类型，而且我们验证了这个子类型在<code>TS</code>中是<code>OK</code>的。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">SuperType</span> = <span class="function">(<span class="params">value: <span class="built_in">number</span>|<span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">number</span>|<span class="built_in">string</span>; <span class="comment">// 父类型</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">SubType</span> = <span class="function">(<span class="params">value: <span class="built_in">number</span>|<span class="built_in">string</span>|<span class="built_in">boolean</span></span>) =&gt;</span> <span class="built_in">number</span>; <span class="comment">// 子类型 参数逆变 返回值协变</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">subFn</span>: <span class="title class_">SubType</span> = <span class="function">(<span class="params">value: <span class="built_in">number</span>|<span class="built_in">string</span>|<span class="built_in">boolean</span></span>) =&gt;</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">superFn</span>: <span class="title class_">SuperType</span> = subFn; <span class="comment">// ok</span></span><br></pre></td></tr></table></figure>

<p>首先我们可以探讨一下子类型，明显<code>number</code>是<code>number|string</code>的子类型，那么下面这个例子是完全<code>OK</code>的，这同样也是一个协变的过程，由此看来在上边例子的<code>SubType</code>确实是<code>SuperType</code>的子类型。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">SuperType</span> = <span class="built_in">number</span>|<span class="built_in">string</span>; <span class="comment">// 父类型</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">SubType</span> = <span class="built_in">number</span>; <span class="comment">// 子类型</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">subValue</span>: <span class="title class_">SubType</span> = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">superValue</span>: <span class="title class_">SuperType</span> = subValue; <span class="comment">// ok</span></span><br></pre></td></tr></table></figure>

<p>那么此时就回到最上边的例子，这个函数参数<code>value</code>的类型就很奇怪，明明是子类型，反而类型的种类更多了，这个其实就是所谓的逆变，其实这就是为了保证类型的收敛是安全的。此时我们的<code>subFn</code>实际代表的函数是<code>SuperType</code>类型的，当我们实际调用的时候，传递的参数由于是<code>SuperType</code>类型的即<code>number|string</code>，所以必定是<code>SubType</code>类型的子类即<code>number|string|boolean</code>，这样也就保证了函数参数的收敛安全，之后当函数执行完成进行返回值时，由于函数实际定义时的返回类型是<code>number</code>，那么在返回出去的时候也必定是<code>number|string</code>的子类，这样也就保证了函数返回值的收敛安全。我们可以通过这个图示去理解这个函数子类型的问题，类似于以下的调用过程，由此做到类型收敛的安全。</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">父类型参数 -&gt; 子类型参数 -&gt; 执行 -&gt; 子类型返回值 -&gt; 父类型返回值</span><br><span class="line">number|<span class="type">string</span> -&gt; number|<span class="type">string</span>|<span class="type">boolean</span> -&gt; ... -&gt; number -&gt; number|<span class="type">string</span></span><br></pre></td></tr></table></figure>

<p>我们可以进行一个总结: 除了函数参数类型是逆变，都是协变。将一个函数赋给另一个函数变量时，要保证参数类型发散，即比目标类型范围小。目标函数执行时是执行的原函数，传入的参数类型会收敛为原函数参数类型。协变表示类型收敛，即类型范围缩小或不变，逆变反之。本质是为了保证执行时类型收敛是安全的。</p>
<p>另外可以看一下 <a target="_blank" rel="noopener" href="https://jkchao.github.io/typescript-book-chinese/tips/covarianceAndContravariance.html">这篇文章</a> 对于协变与逆变的描述。<br>开始文章之前我们先约定如下的标记，<code>A ≼ B</code>意味着<code>A</code>是<code>B</code>的子类型;<code>A → B</code>指的是以<code>A</code>为参数类型，以<code>B</code>为返回值类型的函数类型;<code>x : A</code>意味着<code>x</code>的类型为<code>A</code>。<br>假设我有如下三种类型：<code>Greyhound ≼ Dog ≼ Animal</code>。<br><code>Greyhound</code>灰狗是<code>Dog</code>狗的子类型，而<code>Dog</code>则是<code>Animal</code>动物的子类型，由于子类型通常是可传递的，因此我们也称<code>Greyhound</code>是<code>Animal</code>的子类型，问题: 以下哪种类型是<code>Dog → Dog</code>的子类型呢。</p>
<ol>
<li><code>Greyhound → Greyhound</code>。</li>
<li><code>Greyhound → Animal</code>。</li>
<li><code>Animal → Animal</code>。</li>
<li><code>Animal → Greyhound</code>。</li>
</ol>
<p>让我们来思考一下如何解答这个问题，首先我们假设<code>f</code>是一个以<code>Dog → Dog</code>为参数的函数，它的返回值并不重要，为了具体描述问题，我们假设函数结构体是这样的<code>f :(Dog → Dog ) → String</code>，现在我想给函数<code>f</code>传入某个函数<code>g</code>来调用，我们来瞧瞧当<code>g</code>为以上四种类型时，会发生什么情况。  </p>
<p>1.我们假设<code>g : Greyhound → Greyhound</code>，<code>f(g)</code>的类型是否安全？<br>不安全，因为在<code>f</code>内调用它的参数<code>(g)</code>函数时，使用的参数可能是一个不同于灰狗但又是狗的子类型，例如<code>GermanShepherd</code>牧羊犬。<br>2.我们假设<code>g : Greyhound → Animal</code>，<code>f(g)</code>的类型是否安全？<br>不安全。理由同<code>1</code>。<br>3.我们假设<code>g : Animal → Animal</code>，<code>f(g)</code>的类型是否安全？<br>不安全。因为<code>f</code>有可能在调用完参数之后，让返回值也就是<code>Animal</code>动物狗叫，并非所有动物都会狗叫。<br>4.我们假设<code>g : Animal → Greyhound</code>，<code>f(g)</code>的类型是否安全？<br>是的，它的类型是安全的，首先<code>f</code>可能会以任何狗的品种来作为参数调用，而所有的狗都是动物，其次，它可能会假设结果是一条狗，而所有的灰狗都是狗。  </p>
<p>如上所述，我们得出结论<code>(Animal → Greyhound) ≼ (Dog → Dog)</code>返回值类型很容易理解，灰狗是狗的子类型，但参数类型则是相反的，动物是狗的父类。用合适的术语来描述这个奇怪的表现，可以说我们允许一个函数类型中，返回值类型是协变的，而参数类型是逆变的。返回值类型是协变的，意思是<code>A ≼ B</code>就意味着<code>(T → A ) ≼ ( T → B )</code>，参数类型是逆变的，意思是<code>A ≼ B</code>就意味着<code>(B → T ) ≼ ( A → T )</code>即<code>A</code>和<code>B</code>的位置颠倒过来了。一个有趣的现象是在<code>TypeScript</code>中，参数类型是双向协变的，也就是说既是协变又是逆变的，而这并不安全，但是现在你可以在<code>TypeScript 2.6</code>版本中通过<code>--strictFunctionTypes</code>或<code>--strict</code>标记来修复这个问题。</p>
<h3 id="tsconfig-json"><a href="#tsconfig-json" class="headerlink" title="tsconfig.json"></a>tsconfig.json</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="regexp">/* Basic Options */</span></span><br><span class="line">    <span class="string">&quot;target&quot;</span>: <span class="string">&quot;es5&quot;</span> <span class="regexp">/* target用于指定编译之后的版本目标: &#x27;ES3&#x27; (default), &#x27;ES5&#x27;, &#x27;ES2015&#x27;, &#x27;ES2016&#x27;, &#x27;ES2017&#x27;, &#x27;ES2018&#x27;, &#x27;ES2019&#x27; or &#x27;ESNEXT&#x27;. */</span>,</span><br><span class="line">    <span class="string">&quot;module&quot;</span>: <span class="string">&quot;commonjs&quot;</span> <span class="regexp">/* 用来指定要使用的模块标准: &#x27;none&#x27;, &#x27;commonjs&#x27;, &#x27;amd&#x27;, &#x27;system&#x27;, &#x27;umd&#x27;, &#x27;es2015&#x27;, or &#x27;ESNext&#x27;. */</span>,</span><br><span class="line">    <span class="string">&quot;lib&quot;</span>: [<span class="string">&quot;es6&quot;</span>, <span class="string">&quot;dom&quot;</span>] <span class="regexp">/* lib用于指定要包含在编译中的库文件 */</span>,</span><br><span class="line">    <span class="string">&quot;allowJs&quot;</span>: true,                       <span class="regexp">/* allowJs设置的值为true或false，用来指定是否允许编译js文件，默认是false，即不编译js文件 */</span></span><br><span class="line">    <span class="string">&quot;checkJs&quot;</span>: true,                       <span class="regexp">/* checkJs的值为true或false，用来指定是否检查和报告js文件中的错误，默认是false */</span></span><br><span class="line">    <span class="string">&quot;jsx&quot;</span>: <span class="string">&quot;preserve&quot;</span>,                     <span class="regexp">/* 指定jsx代码用于的开发环境: &#x27;preserve&#x27;, &#x27;react-native&#x27;, or &#x27;react&#x27;. */</span></span><br><span class="line">    <span class="string">&quot;declaration&quot;</span>: true,                   <span class="regexp">/* declaration的值为true或false，用来指定是否在编译的时候生成相应的&quot;.d.ts&quot;声明文件。如果设为true，编译每个ts文件之后会生成一个js文件和一个声明文件。但是declaration和allowJs不能同时设为true */</span></span><br><span class="line">    <span class="string">&quot;declarationMap&quot;</span>: true,                <span class="regexp">/* 值为true或false，指定是否为声明文件.d.ts生成map文件 */</span></span><br><span class="line">    <span class="string">&quot;sourceMap&quot;</span>: true,                     <span class="regexp">/* sourceMap的值为true或false，用来指定编译时是否生成.map文件 */</span></span><br><span class="line">    <span class="string">&quot;outFile&quot;</span>: <span class="string">&quot;./&quot;</span>,                       <span class="regexp">/* outFile用于指定将输出文件合并为一个文件，它的值为一个文件路径名。比如设置为&quot;./</span>dist<span class="regexp">/main.js&quot;，则输出的文件为一个main.js文件。但是要注意，只有设置module的值为amd和system模块时才支持这个配置 */</span></span><br><span class="line">    <span class="string">&quot;outDir&quot;</span>: <span class="string">&quot;./&quot;</span>,                        <span class="regexp">/* outDir用来指定输出文件夹，值为一个文件夹路径字符串，输出的文件都将放置在这个文件夹 */</span></span><br><span class="line">    <span class="string">&quot;rootDir&quot;</span>: <span class="string">&quot;./&quot;</span>,                       <span class="regexp">/* 用来指定编译文件的根目录，编译器会在根目录查找入口文件，如果编译器发现以rootDir的值作为根目录查找入口文件并不会把所有文件加载进去的话会报错，但是不会停止编译 */</span></span><br><span class="line">    <span class="string">&quot;composite&quot;</span>: true,                     <span class="regexp">/* 是否编译构建引用项目  */</span></span><br><span class="line">    <span class="string">&quot;incremental&quot;</span>: true,                   <span class="regexp">/* 是否启用增量编译*/</span></span><br><span class="line">    <span class="string">&quot;tsBuildInfoFile&quot;</span>: <span class="string">&quot;./&quot;</span>,               <span class="regexp">/* 指定文件用来存储增量编译信息 */</span></span><br><span class="line">    <span class="string">&quot;removeComments&quot;</span>: true,                <span class="regexp">/* removeComments的值为true或false，用于指定是否将编译后的文件中的注释删掉，设为true的话即删掉注释，默认为false */</span></span><br><span class="line">    <span class="string">&quot;noEmit&quot;</span>: true,                        <span class="regexp">/* 不生成编译文件，这个一般比较少用 */</span></span><br><span class="line">    <span class="string">&quot;importHelpers&quot;</span>: true,                 <span class="regexp">/* importHelpers的值为true或false，指定是否引入tslib里的辅助工具函数，默认为false */</span></span><br><span class="line">    <span class="string">&quot;downlevelIteration&quot;</span>: true,            <span class="regexp">/* 当target为&#x27;ES5&#x27; or &#x27;ES3&#x27;时，为&#x27;for-of&#x27;, spread, and destructuring&#x27;中的迭代器提供完全支持 */</span></span><br><span class="line">    <span class="string">&quot;isolatedModules&quot;</span>: true,               <span class="regexp">/* isolatedModules的值为true或false，指定是否将每个文件作为单独的模块，默认为true，它不可以和declaration同时设定 */</span></span><br><span class="line">    <span class="string">&quot;newLine&quot;</span>: <span class="string">&quot;lf&quot;</span>,                       <span class="regexp">/* 指定换行符。可选`crlf`和`LF`两种 */</span></span><br><span class="line"></span><br><span class="line">    <span class="regexp">/* Strict Type-Checking Options */</span></span><br><span class="line">    <span class="string">&quot;strict&quot;</span>: true <span class="regexp">/* strict的值为true或false，用于指定是否启动所有类型检查，如果设为true则会同时开启下面这几个严格类型检查，默认为false */</span>,</span><br><span class="line">    <span class="string">&quot;noImplicitAny&quot;</span>: true,                 <span class="regexp">/* noImplicitAny的值为true或false，如果我们没有为一些值设置明确的类型，编译器会默认认为这个值为any，如果noImplicitAny的值为true的话。则没有明确的类型会报错。默认值为false */</span></span><br><span class="line">    <span class="string">&quot;strictNullChecks&quot;</span>: true,              <span class="regexp">/* strictNullChecks为true时，null和undefined值不能赋给非这两种类型的值，别的类型也不能赋给他们，除了any类型。还有个例外就是undefined可以赋值给void类型 */</span></span><br><span class="line">    <span class="string">&quot;strictFunctionTypes&quot;</span>: true,           <span class="regexp">/* strictFunctionTypes的值为true或false，用于指定是否使用函数参数双向协变检查 */</span></span><br><span class="line">    <span class="string">&quot;strictBindCallApply&quot;</span>: true,           <span class="regexp">/* 设为true后会对bind、call和apply绑定的方法的参数的检测是严格检测的 */</span></span><br><span class="line">    <span class="string">&quot;strictPropertyInitialization&quot;</span>: true,  <span class="regexp">/* 设为true后会检查类的非undefined属性是否已经在构造函数里初始化，如果要开启这项，需要同时开启strictNullChecks，默认为false */</span></span><br><span class="line">   <span class="string">&quot;noImplicitThis&quot;</span>: true,                <span class="regexp">/* 当this表达式的值为any类型的时候，生成一个错误 */</span></span><br><span class="line">    <span class="string">&quot;alwaysStrict&quot;</span>: true,                  <span class="regexp">/* alwaysStrict的值为true或false，指定始终以严格模式检查每个模块，并且在编译之后的js文件中加入&quot;use strict&quot;字符串，用来告诉浏览器该js为严格模式 */</span></span><br><span class="line"></span><br><span class="line">    <span class="regexp">/* Additional Checks */</span></span><br><span class="line">    <span class="string">&quot;noUnusedLocals&quot;</span>: true,                <span class="regexp">/* 用于检查是否有定义了但是没有使用的变量，对于这一点的检测，使用eslint可以在你书写代码的时候做提示，你可以配合使用。它的默认值为false */</span></span><br><span class="line">    <span class="string">&quot;noUnusedParameters&quot;</span>: true,            <span class="regexp">/* 用于检查是否有在函数体中没有使用的参数，这个也可以配合eslint来做检查，默认为false */</span></span><br><span class="line">    <span class="string">&quot;noImplicitReturns&quot;</span>: true,             <span class="regexp">/* 用于检查函数是否有返回值，设为true后，如果函数没有返回值则会提示，默认为false */</span></span><br><span class="line">    <span class="string">&quot;noFallthroughCasesInSwitch&quot;</span>: true,    <span class="regexp">/* 用于检查switch中是否有case没有使用break跳出switch，默认为false */</span></span><br><span class="line"></span><br><span class="line">    <span class="regexp">/* Module Resolution Options */</span></span><br><span class="line">    <span class="string">&quot;moduleResolution&quot;</span>: <span class="string">&quot;node&quot;</span>,            <span class="regexp">/* 用于选择模块解析策略，有&#x27;node&#x27;和&#x27;classic&#x27;两种类型&#x27; */</span></span><br><span class="line">    <span class="string">&quot;baseUrl&quot;</span>: <span class="string">&quot;./&quot;</span>,                       <span class="regexp">/* baseUrl用于设置解析非相对模块名称的基本目录，相对模块不会受baseUrl的影响 */</span></span><br><span class="line">    <span class="string">&quot;paths&quot;</span>: &#123;&#125;,                           <span class="regexp">/* 用于设置模块名称到基于baseUrl的路径映射 */</span></span><br><span class="line">    <span class="string">&quot;rootDirs&quot;</span>: [],                        <span class="regexp">/* rootDirs可以指定一个路径列表，在构建时编译器会将这个路径列表中的路径的内容都放到一个文件夹中 */</span></span><br><span class="line">    <span class="string">&quot;typeRoots&quot;</span>: [],                       <span class="regexp">/* typeRoots用来指定声明文件或文件夹的路径列表，如果指定了此项，则只有在这里列出的声明文件才会被加载 */</span></span><br><span class="line">    <span class="string">&quot;types&quot;</span>: [],                           <span class="regexp">/* types用来指定需要包含的模块，只有在这里列出的模块的声明文件才会被加载进来 */</span></span><br><span class="line">    <span class="string">&quot;allowSyntheticDefaultImports&quot;</span>: true,  <span class="regexp">/* 用来指定允许从没有默认导出的模块中默认导入 */</span></span><br><span class="line">    <span class="string">&quot;esModuleInterop&quot;</span>: true <span class="regexp">/* 通过为导入内容创建命名空间，实现CommonJS和ES模块之间的互操作性 */</span>,</span><br><span class="line">    <span class="string">&quot;preserveSymlinks&quot;</span>: true,              <span class="regexp">/* 不把符号链接解析为其真实路径，具体可以了解下webpack和nodejs的symlink相关知识 */</span></span><br><span class="line"></span><br><span class="line">    <span class="regexp">/* Source Map Options */</span></span><br><span class="line">    <span class="string">&quot;sourceRoot&quot;</span>: <span class="string">&quot;&quot;</span>,                      <span class="regexp">/* sourceRoot用于指定调试器应该找到TypeScript文件而不是源文件位置，这个值会被写进.map文件里 */</span></span><br><span class="line">    <span class="string">&quot;mapRoot&quot;</span>: <span class="string">&quot;&quot;</span>,                         <span class="regexp">/* mapRoot用于指定调试器找到映射文件而非生成文件的位置，指定map文件的根路径，该选项会影响.map文件中的sources属性 */</span></span><br><span class="line">    <span class="string">&quot;inlineSourceMap&quot;</span>: true,               <span class="regexp">/* 指定是否将map文件的内容和js文件编译在同一个js文件中，如果设为true，则map的内容会以/</span><span class="regexp">/# sourceMappingURL=然后拼接base64字符串的形式插入在js文件底部 */</span></span><br><span class="line">    <span class="string">&quot;inlineSources&quot;</span>: true,                 <span class="regexp">/* 用于指定是否进一步将.ts文件的内容也包含到输入文件中 */</span></span><br><span class="line"></span><br><span class="line">    <span class="regexp">/* Experimental Options */</span></span><br><span class="line">    <span class="string">&quot;experimentalDecorators&quot;</span>: true <span class="regexp">/* 用于指定是否启用实验性的装饰器特性 */</span></span><br><span class="line">    <span class="string">&quot;emitDecoratorMetadata&quot;</span>: true,         <span class="regexp">/* 用于指定是否为装饰器提供元数据支持，关于元数据，也是ES6的新标准，可以通过Reflect提供的静态方法获取元数据，如果需要使用Reflect的一些方法，需要引入ES2015.Reflect这个库 */</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="string">&quot;files&quot;</span>: [], <span class="regexp">//</span> files可以配置一个数组列表，里面包含指定文件的相对或绝对路径，编译器在编译的时候只会编译包含在files中列出的文件，如果不指定，则取决于有没有设置include选项，如果没有include选项，则默认会编译根目录以及所有子目录中的文件。这里列出的路径必须是指定文件，而不是某个文件夹，而且不能使用* ? **/ 等通配符</span><br><span class="line">  <span class="string">&quot;include&quot;</span>: [],  <span class="regexp">//</span> include也可以指定要编译的路径列表，但是和files的区别在于，这里的路径可以是文件夹，也可以是文件，可以使用相对和绝对路径，而且可以使用通配符，比如<span class="string">&quot;./src&quot;</span>即表示要编译src文件夹下的所有文件以及子文件夹的文件</span><br><span class="line">  <span class="string">&quot;exclude&quot;</span>: [],  <span class="regexp">//</span> exclude表示要排除的、不编译的文件，它也可以指定一个列表，规则和include一样，可以是文件或文件夹，可以是相对路径或绝对路径，可以使用通配符</span><br><span class="line">  <span class="string">&quot;extends&quot;</span>: <span class="string">&quot;&quot;</span>,   <span class="regexp">//</span> extends可以通过指定一个其他的tsconfig.json文件路径，来继承这个配置文件里的配置，继承来的文件的配置会覆盖当前文件定义的配置。TS在<span class="number">3.2</span>版本开始，支持继承一个来自Node.js包的tsconfig.json配置文件</span><br><span class="line">  <span class="string">&quot;compileOnSave&quot;</span>: true,  <span class="regexp">//</span> compileOnSave的值是true或false，如果设为true，在我们编辑了项目中的文件保存的时候，编辑器会根据tsconfig.json中的配置重新生成文件，不过这个要编辑器支持</span><br><span class="line">  <span class="string">&quot;references&quot;</span>: [],  <span class="regexp">//</span> 一个对象数组，指定要引用的项目</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>JiaJie Gao
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://gaojiajie1993.github.io/blog/2023/02/11/%E5%89%8D%E7%AB%AF/2023/TS%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E6%8B%93%E5%B1%95/" title="TS内置类型与拓展">https://gaojiajie1993.github.io/blog/2023/02/11/前端/2023/TS内置类型与拓展/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/blog/tags/TypeScript/" rel="tag"># TypeScript</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/blog/2023/01/05/%E5%89%8D%E7%AB%AF/2023/%E9%98%B2%E6%8A%96%E4%B8%8E%E8%8A%82%E6%B5%81/" rel="prev" title="防抖与节流">
                  <i class="fa fa-chevron-left"></i> 防抖与节流
                </a>
            </div>
            <div class="post-nav-item">
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2015 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JiaJie Gao</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">1.1m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">16:26</span>
  </span>
</div>

    </div>
  </footer>

  
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/gaojiajie1993/blog" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/blog/js/comments.js"></script><script src="/blog/js/utils.js"></script><script src="/blog/js/motion.js"></script><script src="/blog/js/next-boot.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.1/dist/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/blog/js/third-party/search/local-search.js"></script>




  <script src="/blog/js/third-party/pace.js"></script>

  




<script src="https://unpkg.com/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<script>
var options = {
  bottom: '64px',
  right: 'unset',
  left: '32px',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: '🌓',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"gaojiajie1993","repo":"blog","client_id":"c45bc13ca1d3d3aa4836","client_secret":"1907a9f0c22087badad3938e1d7dcba9078f88ac","admin_user":"gaojiajie1993","distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":"zh-CN","js":{"url":"https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"9e44e47e3a9fc0ca0550a30d2a2cec09"}</script>
<script src="/blog/js/third-party/comments/gitalk.js"></script>

</body>
</html>
